import{jsx as e,jsxs as s}from"react/jsx-runtime";import{useState as n,useMemo as O}from"react";import{useTranslation as R}from"react-i18next";import{sortLines as j}from"../../utils/textSorter";import{useClipboard as B}from"../../hooks/useClipboard";import u from"../../components/ui/Button";import h from"../../components/ui/TextArea";const T=["alphabetical","natural","length","numeric","random","reverse"];function $(){const{t}=R(),[r,x]=n(""),[l,f]=n("alphabetical"),[i,b]=n("asc"),[d,g]=n(!1),[m,N]=n(!0),[p,y]=n(!0),{copied:k,copy:S}=B(),a=O(()=>r.trim()?j(r,{mode:l,order:i,caseSensitive:d,trimWhitespace:m,removeEmpty:p}):null,[r,l,i,d,m,p]),w=()=>{a&&S(a.result)},C=()=>{x("")},L=()=>{if(!a)return;const o=new Blob([a.result],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(o),c=document.createElement("a");c.href=v,c.download=`sorted-${l}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(v)},M=l!=="random"&&l!=="reverse";return s("div",{className:"space-y-6",children:[s("div",{className:"card p-4",children:[e("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:t("tools.textSorter.modeLabel")}),e("div",{className:"flex flex-wrap gap-2",children:T.map(o=>e("button",{onClick:()=>f(o),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${l===o?"bg-primary-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:t(`tools.textSorter.modes.${o}`)},o))}),s("div",{className:"flex flex-wrap items-center gap-6 mt-4 pt-4 border-t border-slate-200",children:[M&&s("div",{className:"flex items-center gap-2",children:[s("span",{className:"text-sm text-slate-600",children:[t("tools.textSorter.order"),":"]}),s("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[e("button",{onClick:()=>b("asc"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${i==="asc"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:t("tools.textSorter.ascending")}),e("button",{onClick:()=>b("desc"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${i==="desc"?"bg-white text-slate-800 shadow-sm":"text-slate-600 hover:text-slate-800"}`,children:t("tools.textSorter.descending")})]})]}),s("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:d,onChange:o=>g(o.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary-500 focus:ring-primary-500"}),e("span",{className:"text-sm text-slate-700",children:t("tools.textSorter.caseSensitive")})]}),s("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:m,onChange:o=>N(o.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary-500 focus:ring-primary-500"}),e("span",{className:"text-sm text-slate-700",children:t("tools.textSorter.trimWhitespace")})]}),s("label",{className:"flex items-center gap-2 cursor-pointer",children:[e("input",{type:"checkbox",checked:p,onChange:o=>y(o.target.checked),className:"w-4 h-4 rounded border-slate-300 text-primary-500 focus:ring-primary-500"}),e("span",{className:"text-sm text-slate-700",children:t("tools.textSorter.removeEmpty")})]})]})]}),s("div",{className:"grid md:grid-cols-2 gap-6",children:[s("div",{className:"card p-4",children:[s("div",{className:"flex items-center justify-between mb-3",children:[e("label",{className:"text-sm font-medium text-slate-700",children:t("common.input")}),r&&e("span",{className:"text-xs text-slate-500",children:t("tools.textSorter.linesCount",{count:r.split(`
`).length})})]}),e(h,{value:r,onChange:o=>x(o.target.value),placeholder:t("tools.textSorter.inputPlaceholder"),rows:12}),e("div",{className:"mt-3 flex justify-end",children:e(u,{variant:"secondary",onClick:C,disabled:!r,children:t("common.clear")})})]}),s("div",{className:"card p-4",children:[s("div",{className:"flex items-center justify-between mb-3",children:[e("label",{className:"text-sm font-medium text-slate-700",children:t("common.output")}),a&&e("span",{className:"text-xs text-slate-500",children:t("tools.textSorter.linesCount",{count:a.lineCount})})]}),e(h,{value:a?.result||"",readOnly:!0,placeholder:t("common.noContent"),rows:12,className:"bg-slate-50"}),s("div",{className:"mt-3 flex justify-end gap-2",children:[e(u,{variant:"secondary",onClick:L,disabled:!a,children:t("common.download")}),e(u,{onClick:w,disabled:!a,children:t(k?"common.copied":"common.copy")})]})]})]}),s("div",{className:"text-center text-xs text-slate-500 bg-slate-100 rounded-lg py-3 px-4",children:[e("svg",{className:"inline-block w-4 h-4 mr-1 -mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),t("common.footer.privacy")]})]})}export{$ as default};
