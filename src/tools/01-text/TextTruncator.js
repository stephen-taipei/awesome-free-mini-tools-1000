import{jsx as t,jsxs as s}from"react/jsx-runtime";import{useState as m,useMemo as g}from"react";import{useTranslation as N}from"react-i18next";import{truncateText as T}from"../../utils/textTruncator";import{useClipboard as w}from"../../hooks/useClipboard";import u from"../../components/ui/Button";import x from"../../components/ui/TextArea";function C(){const{t:e}=N(),[o,c]=m(""),[d,b]=m(100),[a,i]=m("chars"),[n,p]=m("..."),{copied:f,copy:v}=w(),r=g(()=>T(o,d,a,n),[o,d,a,n]),h=()=>{v(r)},y=()=>{c("")};return s("div",{className:"space-y-6",children:[s("div",{className:"card p-4",children:[t("h3",{className:"text-sm font-medium text-slate-700 mb-3",children:e("common.settings")}),s("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s("div",{children:[t("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:e("tools.textTruncator.limit")}),t("input",{type:"number",value:d,onChange:l=>b(Number(l.target.value)),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),s("div",{children:[t("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:e("tools.textTruncator.mode")}),s("div",{className:"flex rounded-md shadow-sm",children:[t("button",{onClick:()=>i("chars"),className:`flex-1 px-4 py-2 text-sm font-medium border rounded-l-md ${a==="chars"?"bg-primary-50 text-primary-700 border-primary-500 z-10":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:e("tools.textTruncator.modes.chars")}),t("button",{onClick:()=>i("bytes"),className:`flex-1 px-4 py-2 text-sm font-medium border rounded-r-md -ml-px ${a==="bytes"?"bg-primary-50 text-primary-700 border-primary-500 z-10":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:e("tools.textTruncator.modes.bytes")})]})]}),s("div",{children:[t("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:e("tools.textTruncator.suffix")}),t("input",{type:"text",value:n,onChange:l=>p(l.target.value),className:"w-full rounded-md border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]}),s("div",{className:"grid md:grid-cols-2 gap-6",children:[s("div",{className:"card p-4",children:[s("div",{className:"flex items-center justify-between mb-3",children:[t("label",{className:"text-sm font-medium text-slate-700",children:e("common.input")}),s("span",{className:"text-xs text-slate-500",children:[a==="chars"?o.length:new TextEncoder().encode(o).length," ",e(a==="chars"?"tools.textTruncator.chars":"tools.textTruncator.bytes")]})]}),t(x,{value:o,onChange:l=>c(l.target.value),placeholder:e("common.placeholder"),rows:10}),t("div",{className:"mt-3 flex justify-end",children:t(u,{variant:"secondary",onClick:y,disabled:!o,children:e("common.clear")})})]}),s("div",{className:"card p-4",children:[s("div",{className:"flex items-center justify-between mb-3",children:[t("label",{className:"text-sm font-medium text-slate-700",children:e("common.output")}),s("span",{className:"text-xs text-slate-500",children:[a==="chars"?r.length:new TextEncoder().encode(r).length," ",e(a==="chars"?"tools.textTruncator.chars":"tools.textTruncator.bytes")]})]}),t(x,{value:r,readOnly:!0,placeholder:e("common.noContent"),rows:10,className:"bg-slate-50"}),t("div",{className:"mt-3 flex justify-end gap-2",children:t(u,{onClick:h,disabled:!r,children:e(f?"common.copied":"common.copy")})})]})]})]})}export{C as default};
