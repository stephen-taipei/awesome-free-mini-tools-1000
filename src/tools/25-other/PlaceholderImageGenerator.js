import{jsx as t,jsxs as l}from"react/jsx-runtime";import{useState as i,useRef as D,useEffect as I}from"react";import{useTranslation as P}from"react-i18next";import N from"../../components/ui/Button";function R(){const{t:n}=P(),d=D(null),[o,x]=i(400),[s,b]=i(300),[m,u]=i("#e2e8f0"),[r,g]=i("#64748b"),[h,y]=i(""),[f,k]=i(!0),[p,C]=i("png"),v=h||(f?`${o} \xD7 ${s}`:"");I(()=>{const e=d.current;if(!e)return;const a=e.getContext("2d");if(a){if(e.width=o,e.height=s,a.fillStyle=m,a.fillRect(0,0,o,s),v){a.fillStyle=r;const c=Math.min(o,s)/8;a.font=`bold ${c}px system-ui, sans-serif`,a.textAlign="center",a.textBaseline="middle",a.fillText(v,o/2,s/2)}a.strokeStyle=r,a.lineWidth=2,a.strokeRect(1,1,o-2,s-2),a.beginPath(),a.moveTo(0,0),a.lineTo(o,s),a.moveTo(o,0),a.lineTo(0,s),a.strokeStyle=r,a.globalAlpha=.1,a.stroke(),a.globalAlpha=1}},[o,s,m,r,v]);const T=()=>{const e=d.current;if(!e)return;const a=`image/${p}`,c=document.createElement("a");c.download=`placeholder-${o}x${s}.${p}`,c.href=e.toDataURL(a,.9),c.click()},$=async()=>{const e=d.current;if(e)try{const a=await new Promise(c=>{e.toBlob(S=>c(S),"image/png")});await navigator.clipboard.write([new ClipboardItem({"image/png":a})])}catch(a){console.error("Failed to copy:",a)}},w=[{name:"Square",w:400,h:400},{name:"Banner",w:728,h:90},{name:"Thumbnail",w:150,h:150},{name:"Card",w:350,h:200},{name:"HD",w:1280,h:720},{name:"Full HD",w:1920,h:1080},{name:"Instagram",w:1080,h:1080},{name:"Story",w:1080,h:1920}],B=[{name:"Gray",bg:"#e2e8f0",text:"#64748b"},{name:"Blue",bg:"#dbeafe",text:"#3b82f6"},{name:"Green",bg:"#dcfce7",text:"#22c55e"},{name:"Red",bg:"#fee2e2",text:"#ef4444"},{name:"Purple",bg:"#f3e8ff",text:"#a855f7"},{name:"Dark",bg:"#1e293b",text:"#94a3b8"}];return l("div",{className:"flex flex-col gap-4",children:[l("div",{className:"flex gap-2 flex-wrap items-center",children:[t("div",{className:"flex gap-1 flex-wrap",children:w.slice(0,4).map(e=>t("button",{onClick:()=>{x(e.w),b(e.h)},className:"px-2 py-1 text-xs rounded bg-slate-100 hover:bg-slate-200 text-slate-600",children:e.name},e.name))}),t("div",{className:"flex-1"}),t(N,{variant:"secondary",onClick:$,children:n("common.copy")}),t(N,{variant:"secondary",onClick:T,children:n("common.download")})]}),l("div",{className:"flex gap-4",children:[l("div",{className:"flex-1 flex flex-col gap-4",children:[t("div",{className:"flex justify-center p-4 bg-slate-50 rounded-lg overflow-auto",children:t("canvas",{ref:d,style:{maxWidth:"100%",maxHeight:"400px",width:o>600?"100%":"auto"},className:"shadow-lg"})}),t("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:w.map(e=>l("button",{onClick:()=>{x(e.w),b(e.h)},className:`px-3 py-2 text-xs rounded border ${o===e.w&&s===e.h?"border-blue-300 bg-blue-50 text-blue-600":"border-slate-200 hover:border-slate-300"}`,children:[t("div",{className:"font-medium",children:e.name}),l("div",{className:"text-slate-400",children:[e.w,"\xD7",e.h]})]},e.name))})]}),l("div",{className:"w-64 border border-slate-200 rounded-lg bg-white p-4 flex flex-col gap-4 max-h-[550px] overflow-auto",children:[t("h3",{className:"font-semibold text-slate-700",children:n("tools.placeholder.settings")}),l("div",{className:"space-y-4",children:[l("div",{className:"grid grid-cols-2 gap-2",children:[l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.width")}),t("input",{type:"number",min:"10",max:"2000",value:o,onChange:e=>x(Math.max(10,parseInt(e.target.value)||100)),className:"input w-full text-sm"})]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.height")}),t("input",{type:"number",min:"10",max:"2000",value:s,onChange:e=>b(Math.max(10,parseInt(e.target.value)||100)),className:"input w-full text-sm"})]})]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.text")}),t("input",{type:"text",value:h,onChange:e=>y(e.target.value),placeholder:`${o} \xD7 ${s}`,className:"input w-full text-sm"})]}),l("label",{className:"flex items-center gap-2 text-sm",children:[t("input",{type:"checkbox",checked:f,onChange:e=>k(e.target.checked),className:"rounded"}),n("tools.placeholder.showDimensions")]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.bgColor")}),l("div",{className:"flex gap-2",children:[t("input",{type:"color",value:m,onChange:e=>u(e.target.value),className:"w-10 h-8 rounded cursor-pointer"}),t("input",{type:"text",value:m,onChange:e=>u(e.target.value),className:"input flex-1 text-xs font-mono"})]})]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.textColor")}),l("div",{className:"flex gap-2",children:[t("input",{type:"color",value:r,onChange:e=>g(e.target.value),className:"w-10 h-8 rounded cursor-pointer"}),t("input",{type:"text",value:r,onChange:e=>g(e.target.value),className:"input flex-1 text-xs font-mono"})]})]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-2",children:n("tools.placeholder.colorPresets")}),t("div",{className:"grid grid-cols-3 gap-1",children:B.map(e=>t("button",{onClick:()=>{u(e.bg),g(e.text)},className:"p-2 rounded border border-slate-200 hover:border-slate-300",style:{backgroundColor:e.bg},children:t("span",{className:"text-xs",style:{color:e.text},children:e.name})},e.name))})]}),l("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:n("tools.placeholder.format")}),t("div",{className:"flex gap-1",children:["png","jpeg","webp"].map(e=>t("button",{onClick:()=>C(e),className:`flex-1 px-2 py-1 text-xs rounded ${p===e?"bg-blue-500 text-white":"bg-slate-100 hover:bg-slate-200"}`,children:e.toUpperCase()},e))})]})]})]})]})]})}export{R as default};
