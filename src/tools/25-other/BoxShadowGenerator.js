import{jsx as a,jsxs as t}from"react/jsx-runtime";import{useState as c}from"react";import{useTranslation as B}from"react-i18next";import u from"../../components/ui/Button";function T(){const{t:o}=B(),[d,x]=c([{id:"1",x:0,y:4,blur:6,spread:-1,color:"#000000",opacity:10,inset:!1},{id:"2",x:0,y:2,blur:4,spread:-2,color:"#000000",opacity:10,inset:!1}]),[r,p]=c("1"),[m,h]=c("#ffffff"),[g,y]=c("#f1f5f9"),[w,v]=c(!1),f=(e,s)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?`rgba(${parseInt(n[1],16)},${parseInt(n[2],16)},${parseInt(n[3],16)},${s/100})`:`rgba(0,0,0,${s/100})`},b=d.length===0?"none":d.map(e=>`${e.inset?"inset ":""}${e.x}px ${e.y}px ${e.blur}px ${e.spread}px ${f(e.color,e.opacity)}`).join(", "),S=()=>{const e=Date.now().toString();x([...d,{id:e,x:0,y:4,blur:8,spread:0,color:"#000000",opacity:15,inset:!1}]),p(e)},i=(e,s)=>{x(d.map(n=>n.id===e?{...n,...s}:n))},N=e=>{if(d.length<=1)return;const s=d.filter(n=>n.id!==e);x(s),r===e&&p(s[0]?.id||null)},C=async()=>{await navigator.clipboard.writeText(`box-shadow: ${b};`),v(!0),setTimeout(()=>v(!1),1500)},$=[{name:"Subtle",shadows:[{x:0,y:1,blur:3,spread:0,color:"#000000",opacity:10,inset:!1}]},{name:"Medium",shadows:[{x:0,y:4,blur:6,spread:-1,color:"#000000",opacity:10,inset:!1},{x:0,y:2,blur:4,spread:-2,color:"#000000",opacity:10,inset:!1}]},{name:"Large",shadows:[{x:0,y:10,blur:15,spread:-3,color:"#000000",opacity:10,inset:!1},{x:0,y:4,blur:6,spread:-4,color:"#000000",opacity:10,inset:!1}]},{name:"Sharp",shadows:[{x:4,y:4,blur:0,spread:0,color:"#000000",opacity:100,inset:!1}]},{name:"Glow",shadows:[{x:0,y:0,blur:20,spread:0,color:"#3b82f6",opacity:50,inset:!1}]},{name:"Inset",shadows:[{x:0,y:2,blur:4,spread:0,color:"#000000",opacity:20,inset:!0}]}],k=e=>{const s=e.map((n,I)=>({...n,id:Date.now().toString()+I}));x(s),p(s[0].id)},l=d.find(e=>e.id===r);return t("div",{className:"flex flex-col gap-4",children:[t("div",{className:"flex gap-2 flex-wrap items-center",children:[a(u,{variant:"secondary",onClick:S,children:o("tools.boxShadow.addShadow")}),a("div",{className:"flex gap-1",children:$.map(e=>a("button",{onClick:()=>k(e.shadows),className:"px-2 py-1 text-xs rounded bg-slate-100 hover:bg-slate-200 text-slate-600",children:e.name},e.name))}),a("div",{className:"flex-1"}),a(u,{variant:"secondary",onClick:C,children:o(w?"common.copied":"tools.boxShadow.copyCSS")})]}),t("div",{className:"flex gap-4",children:[t("div",{className:"flex-1 flex flex-col gap-4",children:[a("div",{className:"h-64 rounded-lg flex items-center justify-center",style:{backgroundColor:g},children:a("div",{className:"w-48 h-32 rounded-lg",style:{backgroundColor:m,boxShadow:b}})}),a("div",{className:"p-3 bg-slate-800 rounded-lg",children:t("code",{className:"text-sm text-green-400 break-all",children:["box-shadow: ",b,";"]})}),t("div",{className:"flex gap-4",children:[t("div",{className:"flex items-center gap-2",children:[a("label",{className:"text-xs text-slate-500",children:o("tools.boxShadow.boxColor")}),a("input",{type:"color",value:m,onChange:e=>h(e.target.value),className:"w-8 h-6 rounded cursor-pointer"})]}),t("div",{className:"flex items-center gap-2",children:[a("label",{className:"text-xs text-slate-500",children:o("tools.boxShadow.bgColor")}),a("input",{type:"color",value:g,onChange:e=>y(e.target.value),className:"w-8 h-6 rounded cursor-pointer"})]})]})]}),t("div",{className:"w-72 border border-slate-200 rounded-lg bg-white p-4 flex flex-col gap-4 max-h-[500px] overflow-auto",children:[a("h3",{className:"font-semibold text-slate-700",children:o("tools.boxShadow.shadows")}),a("div",{className:"space-y-1",children:d.map((e,s)=>t("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer ${r===e.id?"bg-blue-50 border border-blue-200":"hover:bg-slate-50"}`,onClick:()=>p(e.id),children:[a("div",{className:"w-6 h-6 rounded border border-slate-200",style:{boxShadow:`${e.inset?"inset ":""}${e.x}px ${e.y}px ${e.blur}px ${e.spread}px ${f(e.color,e.opacity)}`}}),t("span",{className:"text-xs flex-1",children:[o("tools.boxShadow.layer")," ",s+1]}),e.inset&&a("span",{className:"text-xs text-slate-400",children:"inset"})]},e.id))}),l&&t("div",{className:"pt-4 border-t border-slate-200 space-y-4",children:[a("h4",{className:"text-xs font-medium text-slate-500",children:o("tools.boxShadow.editShadow")}),t("div",{className:"grid grid-cols-2 gap-3",children:[t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:["X (",l.x,"px)"]}),a("input",{type:"range",min:"-50",max:"50",value:l.x,onChange:e=>i(r,{x:parseInt(e.target.value)}),className:"w-full"})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:["Y (",l.y,"px)"]}),a("input",{type:"range",min:"-50",max:"50",value:l.y,onChange:e=>i(r,{y:parseInt(e.target.value)}),className:"w-full"})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[o("tools.boxShadow.blur")," (",l.blur,"px)"]}),a("input",{type:"range",min:"0",max:"100",value:l.blur,onChange:e=>i(r,{blur:parseInt(e.target.value)}),className:"w-full"})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[o("tools.boxShadow.spread")," (",l.spread,"px)"]}),a("input",{type:"range",min:"-50",max:"50",value:l.spread,onChange:e=>i(r,{spread:parseInt(e.target.value)}),className:"w-full"})]})]}),t("div",{children:[a("label",{className:"block text-xs text-slate-500 mb-1",children:o("tools.boxShadow.color")}),t("div",{className:"flex gap-2 items-center",children:[a("input",{type:"color",value:l.color,onChange:e=>i(r,{color:e.target.value}),className:"w-10 h-8 rounded cursor-pointer"}),a("input",{type:"text",value:l.color,onChange:e=>i(r,{color:e.target.value}),className:"input flex-1 text-xs font-mono"})]})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[o("tools.boxShadow.opacity")," (",l.opacity,"%)"]}),a("input",{type:"range",min:"0",max:"100",value:l.opacity,onChange:e=>i(r,{opacity:parseInt(e.target.value)}),className:"w-full"})]}),t("label",{className:"flex items-center gap-2 text-sm",children:[a("input",{type:"checkbox",checked:l.inset,onChange:e=>i(r,{inset:e.target.checked}),className:"rounded"}),o("tools.boxShadow.inset")]}),d.length>1&&a(u,{variant:"secondary",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>N(r),children:o("tools.boxShadow.delete")})]})]})]})]})}export{T as default};
