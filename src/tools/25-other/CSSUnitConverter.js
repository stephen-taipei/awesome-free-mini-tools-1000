import{jsx as a,jsxs as t}from"react/jsx-runtime";import{useState as l}from"react";import{useTranslation as V}from"react-i18next";import I from"../../components/ui/Button";function z(){const{t:s}=V(),[d,p]=l(16),[c,w]=l("px"),[r,v]=l(16),[i,x]=l(16),[u,b]=l(1920),[m,g]=l(1080),[o,N]=l(800),[C,f]=l(null),y=(e,n)=>{switch(n){case"px":return e;case"rem":return e*r;case"em":return e*i;case"pt":return e*(96/72);case"vw":return e/100*u;case"vh":return e/100*m;case"%":return e/100*o;default:return e}},k=(e,n)=>{switch(n){case"px":return e;case"rem":return e/r;case"em":return e/i;case"pt":return e/(96/72);case"vw":return e/u*100;case"vh":return e/m*100;case"%":return e/o*100;default:return e}},$=(e,n)=>{if(e===n)return"1:1";if(e==="px")switch(n){case"rem":return`px \xF7 ${r}`;case"em":return`px \xF7 ${i}`;case"pt":return"px \xD7 0.75";case"vw":return`px \xF7 ${u} \xD7 100`;case"vh":return`px \xF7 ${m} \xD7 100`;case"%":return`px \xF7 ${o} \xD7 100`}return`${e} \u2192 px \u2192 ${n}`},h=y(d,c),S=["px","rem","em","pt","vw","vh","%"].map(e=>({unit:e,value:k(h,e),formula:$(c,e)})),U=async e=>{const n=`${e.value.toFixed(4).replace(/\.?0+$/,"")}${e.unit}`;await navigator.clipboard.writeText(n),f(e.unit),setTimeout(()=>f(null),1500)},F=["px","rem","em","pt","vw","vh","%"];return t("div",{className:"flex flex-col gap-4",children:[a("div",{className:"flex gap-2 flex-wrap items-center",children:a("div",{className:"flex gap-1",children:[8,12,14,16,18,20,24,32,48,64].map(e=>a("button",{onClick:()=>p(e),className:`px-2 py-1 text-xs rounded ${d===e?"bg-blue-500 text-white":"bg-slate-100 hover:bg-slate-200 text-slate-600"}`,children:e},e))})}),t("div",{className:"flex gap-4",children:[t("div",{className:"flex-1 flex flex-col gap-4",children:[a("div",{className:"border border-slate-200 rounded-lg p-4 bg-white",children:t("div",{className:"flex gap-4 items-end",children:[t("div",{className:"flex-1",children:[a("label",{className:"block text-sm text-slate-600 mb-1",children:s("tools.unitConverter.value")}),a("input",{type:"number",value:d,onChange:e=>p(parseFloat(e.target.value)||0),className:"input w-full text-2xl font-mono"})]}),t("div",{className:"w-32",children:[a("label",{className:"block text-sm text-slate-600 mb-1",children:s("tools.unitConverter.unit")}),a("select",{value:c,onChange:e=>w(e.target.value),className:"input w-full text-lg",children:F.map(e=>a("option",{value:e,children:e},e))})]})]})}),a("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:S.map(e=>t("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${e.unit===c?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:border-slate-300"}`,onClick:()=>U(e),children:[t("div",{className:"flex items-center justify-between mb-1",children:[a("span",{className:"text-xs font-medium text-slate-500 uppercase",children:e.unit}),C===e.unit&&a("span",{className:"text-xs text-green-500",children:s("common.copied")})]}),a("div",{className:"text-xl font-mono font-semibold text-slate-700",children:e.value.toFixed(4).replace(/\.?0+$/,"")}),a("div",{className:"text-xs text-slate-400 mt-1 truncate",children:e.formula})]},e.unit))}),a("div",{className:"p-3 bg-slate-800 rounded-lg",children:t("code",{className:"text-sm text-green-400",children:[d,c," = ",h.toFixed(2),"px"]})})]}),t("div",{className:"w-64 border border-slate-200 rounded-lg bg-white p-4 flex flex-col gap-4",children:[a("h3",{className:"font-semibold text-slate-700",children:s("tools.unitConverter.settings")}),t("div",{className:"space-y-4",children:[t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[s("tools.unitConverter.baseFontSize")," (",r,"px)"]}),a("input",{type:"range",min:"10",max:"24",value:r,onChange:e=>v(parseInt(e.target.value)),className:"w-full"}),t("div",{className:"text-xs text-slate-400 mt-1",children:["rem = px \xF7 ",r]})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[s("tools.unitConverter.parentSize")," (",i,"px)"]}),a("input",{type:"range",min:"10",max:"48",value:i,onChange:e=>x(parseInt(e.target.value)),className:"w-full"}),t("div",{className:"text-xs text-slate-400 mt-1",children:["em = px \xF7 ",i]})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[s("tools.unitConverter.viewportWidth")," (",u,"px)"]}),a("input",{type:"number",value:u,onChange:e=>b(parseInt(e.target.value)||1920),className:"input w-full text-sm"})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[s("tools.unitConverter.viewportHeight")," (",m,"px)"]}),a("input",{type:"number",value:m,onChange:e=>g(parseInt(e.target.value)||1080),className:"input w-full text-sm"})]}),t("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:[s("tools.unitConverter.containerWidth")," (",o,"px)"]}),a("input",{type:"number",value:o,onChange:e=>N(parseInt(e.target.value)||800),className:"input w-full text-sm"}),t("div",{className:"text-xs text-slate-400 mt-1",children:["% = px \xF7 ",o," \xD7 100"]})]})]}),a("div",{className:"mt-auto pt-4 border-t border-slate-200",children:a(I,{variant:"secondary",className:"w-full text-xs",onClick:()=>{v(16),x(16),b(1920),g(1080),N(800)},children:s("tools.unitConverter.reset")})})]})]})]})}export{z as default};
