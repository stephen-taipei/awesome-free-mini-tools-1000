import{jsx as t,jsxs as a}from"react/jsx-runtime";import{useState as i}from"react";import{useTranslation as P}from"react-i18next";import m from"../../components/ui/Button";function G(){const{t:o}=P(),[c,x]=i([{id:"1",x:2,y:2,blur:4,color:"#000000",opacity:30}]),[n,p]=i("1"),[b,w]=i("Shadow Text"),[v,f]=i(48),[g,S]=i("#1e293b"),[y,N]=i("#f1f5f9"),[C,h]=i(!1),k=(e,l)=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?`rgba(${parseInt(s[1],16)},${parseInt(s[2],16)},${parseInt(s[3],16)},${l/100})`:`rgba(0,0,0,${l/100})`},u=c.length===0?"none":c.map(e=>`${e.x}px ${e.y}px ${e.blur}px ${k(e.color,e.opacity)}`).join(", "),$=()=>{const e=Date.now().toString();x([...c,{id:e,x:2,y:2,blur:4,color:"#000000",opacity:30}]),p(e)},d=(e,l)=>{x(c.map(s=>s.id===e?{...s,...l}:s))},I=e=>{if(c.length<=1)return;const l=c.filter(s=>s.id!==e);x(l),n===e&&p(l[0]?.id||null)},T=async()=>{await navigator.clipboard.writeText(`text-shadow: ${u};`),h(!0),setTimeout(()=>h(!1),1500)},B=[{name:"Subtle",shadows:[{x:1,y:1,blur:2,color:"#000000",opacity:20}]},{name:"Drop",shadows:[{x:2,y:2,blur:4,color:"#000000",opacity:30}]},{name:"Hard",shadows:[{x:3,y:3,blur:0,color:"#000000",opacity:100}]},{name:"Glow",shadows:[{x:0,y:0,blur:10,color:"#3b82f6",opacity:80}]},{name:"Neon",shadows:[{x:0,y:0,blur:5,color:"#ec4899",opacity:100},{x:0,y:0,blur:10,color:"#ec4899",opacity:80},{x:0,y:0,blur:20,color:"#ec4899",opacity:60}]},{name:"Retro",shadows:[{x:4,y:4,blur:0,color:"#f59e0b",opacity:100}]},{name:"3D",shadows:[{x:1,y:1,blur:0,color:"#64748b",opacity:100},{x:2,y:2,blur:0,color:"#94a3b8",opacity:100},{x:3,y:3,blur:0,color:"#cbd5e1",opacity:100}]},{name:"Outline",shadows:[{x:-1,y:-1,blur:0,color:"#000000",opacity:100},{x:1,y:-1,blur:0,color:"#000000",opacity:100},{x:-1,y:1,blur:0,color:"#000000",opacity:100},{x:1,y:1,blur:0,color:"#000000",opacity:100}]}],z=e=>{const l=e.map((s,D)=>({...s,id:Date.now().toString()+D}));x(l),p(l[0].id)},r=c.find(e=>e.id===n);return a("div",{className:"flex flex-col gap-4",children:[a("div",{className:"flex gap-2 flex-wrap items-center",children:[t(m,{variant:"secondary",onClick:$,children:o("tools.textShadow.addShadow")}),t("div",{className:"flex gap-1 flex-wrap",children:B.map(e=>t("button",{onClick:()=>z(e.shadows),className:"px-2 py-1 text-xs rounded bg-slate-100 hover:bg-slate-200 text-slate-600",children:e.name},e.name))}),t("div",{className:"flex-1"}),t(m,{variant:"secondary",onClick:T,children:o(C?"common.copied":"tools.textShadow.copyCSS")})]}),a("div",{className:"flex gap-4",children:[a("div",{className:"flex-1 flex flex-col gap-4",children:[t("div",{className:"h-48 rounded-lg flex items-center justify-center",style:{backgroundColor:y},children:t("span",{className:"font-bold select-none",style:{fontSize:`${v}px`,color:g,textShadow:u},children:b})}),a("div",{className:"flex gap-4 items-center",children:[t("div",{className:"flex-1",children:t("input",{type:"text",value:b,onChange:e=>w(e.target.value),placeholder:o("tools.textShadow.textPlaceholder"),className:"input w-full"})}),a("div",{className:"flex items-center gap-2",children:[t("label",{className:"text-xs text-slate-500",children:o("tools.textShadow.fontSize")}),t("input",{type:"number",min:"12",max:"120",value:v,onChange:e=>f(parseInt(e.target.value)||48),className:"input w-16 text-center"})]})]}),t("div",{className:"p-3 bg-slate-800 rounded-lg",children:a("code",{className:"text-sm text-green-400 break-all",children:["text-shadow: ",u,";"]})}),a("div",{className:"flex gap-4",children:[a("div",{className:"flex items-center gap-2",children:[t("label",{className:"text-xs text-slate-500",children:o("tools.textShadow.textColor")}),t("input",{type:"color",value:g,onChange:e=>S(e.target.value),className:"w-8 h-6 rounded cursor-pointer"})]}),a("div",{className:"flex items-center gap-2",children:[t("label",{className:"text-xs text-slate-500",children:o("tools.textShadow.bgColor")}),t("input",{type:"color",value:y,onChange:e=>N(e.target.value),className:"w-8 h-6 rounded cursor-pointer"})]})]})]}),a("div",{className:"w-64 border border-slate-200 rounded-lg bg-white p-4 flex flex-col gap-4 max-h-[450px] overflow-auto",children:[t("h3",{className:"font-semibold text-slate-700",children:o("tools.textShadow.shadows")}),t("div",{className:"space-y-1",children:c.map((e,l)=>a("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer ${n===e.id?"bg-blue-50 border border-blue-200":"hover:bg-slate-50"}`,onClick:()=>p(e.id),children:[t("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),a("span",{className:"text-xs flex-1",children:[o("tools.textShadow.layer")," ",l+1]}),a("span",{className:"text-xs text-slate-400",children:[e.x,",",e.y]})]},e.id))}),r&&a("div",{className:"pt-4 border-t border-slate-200 space-y-4",children:[t("h4",{className:"text-xs font-medium text-slate-500",children:o("tools.textShadow.editShadow")}),a("div",{className:"grid grid-cols-2 gap-3",children:[a("div",{children:[a("label",{className:"block text-xs text-slate-500 mb-1",children:["X (",r.x,"px)"]}),t("input",{type:"range",min:"-20",max:"20",value:r.x,onChange:e=>d(n,{x:parseInt(e.target.value)}),className:"w-full"})]}),a("div",{children:[a("label",{className:"block text-xs text-slate-500 mb-1",children:["Y (",r.y,"px)"]}),t("input",{type:"range",min:"-20",max:"20",value:r.y,onChange:e=>d(n,{y:parseInt(e.target.value)}),className:"w-full"})]})]}),a("div",{children:[a("label",{className:"block text-xs text-slate-500 mb-1",children:[o("tools.textShadow.blur")," (",r.blur,"px)"]}),t("input",{type:"range",min:"0",max:"30",value:r.blur,onChange:e=>d(n,{blur:parseInt(e.target.value)}),className:"w-full"})]}),a("div",{children:[t("label",{className:"block text-xs text-slate-500 mb-1",children:o("tools.textShadow.color")}),a("div",{className:"flex gap-2 items-center",children:[t("input",{type:"color",value:r.color,onChange:e=>d(n,{color:e.target.value}),className:"w-10 h-8 rounded cursor-pointer"}),t("input",{type:"text",value:r.color,onChange:e=>d(n,{color:e.target.value}),className:"input flex-1 text-xs font-mono"})]})]}),a("div",{children:[a("label",{className:"block text-xs text-slate-500 mb-1",children:[o("tools.textShadow.opacity")," (",r.opacity,"%)"]}),t("input",{type:"range",min:"0",max:"100",value:r.opacity,onChange:e=>d(n,{opacity:parseInt(e.target.value)}),className:"w-full"})]}),c.length>1&&t(m,{variant:"secondary",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>I(n),children:o("tools.textShadow.delete")})]})]})]})]})}export{G as default};
